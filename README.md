# Discord 積分統計機器人

## 設計哲學

**簡潔實用** - 功能直接明確，介面清晰易懂，避免冗餘複雜
**單一職責** - 每個模組專注特定功能，職責分離清楚
**分層架構** - 指令、服務、數據模型分層管理，便於維護擴展  
**刪除廢棄** - 更新功能時完全移除舊代碼，避免代碼堆積

## 專案簡介

Discord伺服器統計機器人，兩大核心功能：**1. 發言積分追蹤** **2. 貼圖使用分析**

## 核心功能

### 1. 發言統計與積分系統
- 統計成員發言次數，轉換為經驗值和積分
- 防刷屏機制（30秒冷卻時間）
- 等級制度（每100分升1級）
- 積分與金幣兌換系統（1:1比例）

### 2. 貼圖使用統計
- 追蹤貼圖使用次數
- 簡潔排行榜顯示（1. XX貼圖 - XX次）
- 統計報告生成

### 3. 訊息內容分析系統
- 分類統計訊息性質：純文字、貼圖回應、連結分享、圖片上傳
- 個人互動風格分析（文字派、表情派、分享派、視覺派）
- 內容豐富度評估與趨勢分析
- 不同時段內容類型偏好統計

### 4. 獎勵與互動系統
- 獎章系統（達成里程碑解鎖）
- 金幣商店（兌換虛擬物品、身份組權限）
- 抽獎系統（消耗金幣參與）
- 多維度排行榜（積分、等級、發言次數、互動風格）

## 技術架構

```
Node.js + discord.js v14
├── 訊息監聽系統    (messageCreate事件處理)
├── 積分管理系統    (經驗值、等級、金幣計算)
├── 貼圖統計系統    (emoji使用追蹤與分析)
├── 內容分析系統    (訊息類型識別與風格分析)
├── 指令處理系統    (斜線指令 + 按鈕互動)
└── 資料庫管理      (SQLite本地存儲)
```

## 部署計劃

- **開發環境**: 本地開發與測試
- **正式環境**: 雲端平台部署（Railway/Render免費方案）
- **資料庫**: SQLite（輕量級，適合中小型伺服器）
- **持續集成**: 自動部署與監控

## 目錄結構

```
discordbot/
├── src/
│   ├── commands/          # 斜線指令
│   ├── events/           # Discord事件處理
│   ├── models/           # 資料庫模型
│   ├── services/         # 核心業務邏輯
│   ├── utils/            # 工具函數
│   └── config/           # 設定檔
├── database/             # 資料庫檔案
├── docs/                 # 專案文檔
└── tests/               # 測試檔案
```

## 快速開始

### 前置需求
- Node.js 18+
- Discord應用程式與機器人token
- 目標Discord伺服器管理員權限

### 安裝步驟
1. 克隆專案：`git clone <repository-url>`
2. 安裝依賴：`npm install`
3. 設定環境變數：複製 `.env.example` 為 `.env` 並填入設定
4. 啟動機器人：`npm start`

### 開發指令
- `npm run dev` - 開發模式（自動重啟）
- `npm test` - 運行測試
- `npm run lint` - 代碼檢查
- `npm run build` - 建構專案

## 版本規劃

- **v1.0** - 基礎發言統計與積分系統
- **v1.1** - 貼圖使用統計功能
- **v1.2** - 訊息內容分析與風格識別
- **v1.3** - 獎勵系統與抽獎功能
- **v1.4** - 進階分析與報告功能

## 貢獻指南

請參考 [CODING_PRINCIPLES.md](./CODING_PRINCIPLES.md) 了解開發規範與編程原則。

## 授權

MIT License